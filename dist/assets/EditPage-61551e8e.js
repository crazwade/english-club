import{d as C,u as R,m as k,g as v,r as g,a,i as u,b as o,e as r,w as d,F as p,j as F,o as i,f as c}from"./index-3f038219.js";import{_ as U}from"./Result.vue_vue_type_script_setup_true_lang-1c6979d0.js";const q=["src"],N=C({__name:"EditPage",setup(B){const m=R(),h=k(),b=v([]),t=g({type:"success",msg:"",visible:!1}),V=()=>{t.visible=!1;const n=m.query.themeId;h.push({name:"ThemePage",query:{themeId:n}})},l=g({themeId:"",content:"",poster:"",files:[]}),w=n=>{b.value.push(n);const e=new FileReader;return e.onload=()=>{typeof e.result=="string"&&_.value.push(e.result)},e.readAsDataURL(n),!1},_=v([]),I=async()=>{l.themeId=m.query.themeId,t.msg="僅供展示",t.type="warning",t.visible=!0};return(n,e)=>{const f=a("el-button"),x=a("el-upload"),y=a("el-input");return i(),u(p,null,[o(U,{visible:t.visible,type:t.type,msg:t.msg,onClose:V},null,8,["visible","type","msg"]),r("div",null,[o(x,{action:"/uploadInfo","before-upload":w,multiple:""},{default:d(()=>[o(f,{type:"primary"},{default:d(()=>[c("選擇檔案")]),_:1})]),_:1}),o(y,{modelValue:l.poster,"onUpdate:modelValue":e[0]||(e[0]=s=>l.poster=s),placeholder:"你的名字"},null,8,["modelValue"]),o(y,{type:"textarea",modelValue:l.content,"onUpdate:modelValue":e[1]||(e[1]=s=>l.content=s),placeholder:"你的文章",rows:"10"},null,8,["modelValue"]),o(f,{type:"success",onClick:I,class:"mt-3"},{default:d(()=>[c("上傳")]),_:1}),r("div",null,[(i(!0),u(p,null,F(_.value,s=>(i(),u(p,{key:s},[c(" - "),r("img",{src:s,width:"200",height:"100"},null,8,q)],64))),128))])])],64)}}});export{N as default};
